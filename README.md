# GMP, MPFR, FLINT &amp; ARB for Windows

## Introduction

GMP, MPFR, FLINT and ARB are numerical libraries for large integer and arbitrary precision floating point arithmetic.

## Environment

- MSYS 1.0
- MSYS patch from 2012
- MinGW in short
- buildARB.sh

## Source

- GMP v5.1.3
- MPFR v3.1.2
- FLINT 2.4.5
- ARB v2.5.0+ (master branch head from 06.04.2015.)

## Patches

The following two patches fix a few issues with some tests in GMP and ARB.

#### GMP

File **_gmp-5.1.3/tests/cxx/clocale.c_** was patched to avoid MinGW problem with redeclaration of `localeconv` method. This patch enables an execution of a few tests which otherwise fail, without influencing any numerical procedures or results.

```
gmp-5.1.3/tests/cxx/clocale.c
ln. 44-54

#if !defined(__MINGW32__) // this line added to avoid redeclaration problem in MinGW
#if HAVE_LOCALECONV
struct lconv *
localeconv (void)
{
   static struct lconv  l;
   l.decimal_point = decimal_point;
   return &l;
}
#endif
#endif // this line added to avoid redeclaration problem in MinGW
```

#### ARB

File **_arb-master/test/t-set_str.c_** was patched to avoid MinGW problem with conversion of inf/nan strings to float. Despite the fact that GCC converts "inf" & "nan" strings to INF & NAN doubles respectively, just as C standard states (e.g. ISO/IEC 9899:1999, sections 7.20.1.1 & 7.20.1.3), MinGW converts them to 0.0. This fact causes ARB's original version of set_str test to always fail and stop the testing process.

Make sure you take this facts into consideration when you use ARB paired with deserialization of "inf" or "nan" strings. This cases have to be handled with special care.

```
arb-master/test/t-set_str.c
ln. 114-125

/* this line added to avoid MinGW problem of atof("inf")=0.0 atof("nan")=0.0
    "inf",
    "-inf",
    "+inf",
    "Inf",
    "-INF",
    "+Inf",

    "NAN",
    "-NaN",
    "+NAN",
*///  this line added to avoid MinGW problem of atof("inf")=0.0 atof("nan")=0.0

```

## Deliverables

Once built, the following folders contain the files needed to use the libraries.

*_/local/bin_* contains shared libraries (*_libgmp-10.dll_*, *_libgmpxx-4.dll_*, *_libmpfr-4.dll_*, *_flint.dll_*, *_arb.dll_*).

*_/local/lib_* contains static libraries for compiler and target defined in *_buildARB.sh_* script. I decided not to include them into this repository as everybody needs to build them using their own compiler and target anyways.

*_/local/include_* contains header files needed to build against static libraries.

*_/local/shared_* contains some documentation automatically generated by during the build process.

## Workflow

ARB_MinGW_package.7z contains all sufficient material to simply build all static and dynamic libraries. After unpacking the archive and starting msys.bat script, one must simply execute the following command line:

```
$ buildARB.sh
```

buildARB.sh performs the entire workflow with timing & log files written in /tmp folder. You can check on the process viewing them as they are appended by buildARB.sh script.

## Demo

